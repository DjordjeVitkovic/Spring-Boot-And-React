(this.webpackJsonpjs=this.webpackJsonpjs||[]).push([[0],{187:function(e,t,n){},188:function(e,t,n){},201:function(e,t,n){},321:function(e,t,n){"use strict";n.r(t);var a=n(15),r=n(0),i=n.n(r),s=n(27),d=n.n(s),c=(n(186),n(187),n(143)),l=n(144),o=n(177),u=n(171),m=(n.p,function(e){return Object(a.jsx)("div",{style:{width:"1400px",margin:"0 auto",textAlign:"center"},children:e.children})}),h=n(327),j=n(41),f=(n(188),function(e){return Object(a.jsx)("div",{className:"footer",children:Object(a.jsxs)(m,{children:[void 0!==e.numberOfStudents?Object(a.jsx)(h.a,{style:{backgroundColor:"#f56a00",marginRight:"5px"},size:"large",children:e.numberOfStudents}):null,Object(a.jsx)(j.a,{onClick:function(){return e.handleAddStudentClickEvent()},type:"primary",children:"Add new student +"})]})})}),b=(n(201),n(124)),g=function(e){if(e.ok)return e;var t=new Error(e.statusText);return t.response=e,e.json().then((function(e){t.error=e})),Promise.reject(t)},x=function(){return Object(b.a)("api/students").then(g)},O=n(178),p=n(169),S=n(326),y=n(329),v={marginBottom:"10px"},N=Object(O.a)({backgroundColor:"#f50",color:"white"},v),A=function(e){return Object(a.jsx)(p.a,{initialValues:{firstName:"",lastName:"",email:"",gender:""},validate:function(e){var t={};return e.firstName||(t.firstName="Fist Name Required"),e.lastName||(t.lastName="Last Name Required"),e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i.test(e.email)||(t.email="Invalid email address"):t.email="Email Required",e.gender?["MALE","male","FEMALE","female"].includes(e.gender)||(t.gender="Gender must be (MALE, male, FEMALE, female)"):t.gender="Gender Required",t},onSubmit:function(t,n){var a=n.setSubmitting;(function(e){return Object(b.a)("api/students",{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify(e)}).then(g)})(t).then((function(){e.onSuccess()})).catch((function(t){e.onFailure(t)})).finally((function(){a(!1)}))},children:function(e){var t=e.values,n=e.errors,r=e.touched,i=e.handleChange,s=e.handleBlur,d=e.handleSubmit,c=e.isSubmitting,l=e.submitForm,o=e.isValid;return Object(a.jsxs)("form",{onSubmit:d,children:[Object(a.jsx)(S.a,{style:v,name:"firstName",onChange:i,onBlur:s,value:t.firstName,placeholder:"Fist name. E.g John"}),n.firstName&&r.firstName&&Object(a.jsx)(y.a,{style:N,children:n.firstName}),Object(a.jsx)(S.a,{style:v,name:"lastName",type:"email",onChange:i,onBlur:s,value:t.lastName,placeholder:"Last name. E.g Jones"}),n.lastName&&r.lastName&&Object(a.jsx)(y.a,{style:N,children:n.lastName}),Object(a.jsx)(S.a,{style:v,name:"email",onChange:i,onBlur:s,value:t.email,placeholder:"Email. E.g example@example.com"}),n.email&&r.email&&Object(a.jsx)(y.a,{style:N,children:n.email}),Object(a.jsx)(S.a,{style:v,name:"gender",onChange:i,onBlur:s,value:t.gender,placeholder:"Gender. E.g Male or Female"}),n.gender&&r.gender&&Object(a.jsx)(y.a,{style:N,children:n.gender}),Object(a.jsx)(j.a,{onClick:function(){return l()},type:"submit",disabled:c|(r&&!o),children:"Submit"})]})}})},C=n(179),k=function(e,t,n){C.a[e]({message:t,description:n})},F=function(e,t){return k("error",e,t)},E=n(325),M=n(154),I=n(324),w=n(57),B=n(328),L=function(e){Object(o.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={students:[],isFetching:!1,isAddStudentModalVisible:!1},e.openAddStudentModal=function(){return e.setState({isAddStudentModalVisible:!0})},e.closeAddStudentModal=function(){return e.setState({isAddStudentModalVisible:!1})},e.fetchStudents=function(){e.setState({isFetching:!0}),x().then((function(t){return t.json().then((function(t){console.log(t),e.setState({students:t,isFetching:!1})}))})).catch((function(t){console.log(t.error);var n=t.error.message,a=t.error.error;F(n,a),e.setState({isFetching:!1})}))},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.fetchStudents()}},{key:"render",value:function(){var e=this,t=this.state,n=t.students,r=t.isFetching,i=t.isAddStudentModalVisible,s=function(){return Object(a.jsxs)("div",{children:[Object(a.jsx)(E.a,{title:"Add new student",visible:i,onOk:function(){return e.closeAddStudentModal()},onCancel:function(){return e.closeAddStudentModal()},width:1e3,children:Object(a.jsx)(A,{onSuccess:function(){e.closeAddStudentModal(),e.fetchStudents()},onFailure:function(e){var t=e.error.message,n=e.error.httpRequestStatusCode;F(t,n)}})}),Object(a.jsx)(f,{numberOfStudents:n.length,handleAddStudentClickEvent:function(){return e.openAddStudentModal()}})]})};if(r)return Object(a.jsx)(m,{children:Object(a.jsx)(M.a,{indicator:Object(a.jsx)(B.a,{style:{fontSize:24},spin:!0})})});if(n&&n.length){var d=[{title:"",key:"avatar",render:function(e,t){return Object(a.jsx)(h.a,{size:"large",children:"".concat(t.firstName.charAt(0).toUpperCase()).concat(t.lastName.charAt(0).toUpperCase())})}},{title:"Student Id",dataIndex:"studentId",key:"studentId"},{title:"First Name",dataIndex:"firstName",key:"firstName"},{title:"Last Name",dataIndex:"lastName",key:"lastName"},{title:"Email",dataIndex:"email",key:"email"},{title:"Gender",dataIndex:"gender",key:"gender"}];return Object(a.jsxs)(m,{children:[Object(a.jsx)(I.a,{style:{marginBottom:"100px"},dataSource:n,columns:d,pagination:!1,rowKey:"studentId"}),s()]})}return Object(a.jsxs)(m,{children:[Object(a.jsx)(w.a,{description:Object(a.jsx)("h1",{children:"No Students found "})}),s()]})}}]),n}(r.Component),R=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,330)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,i=t.getLCP,s=t.getTTFB;n(e),a(e),r(e),i(e),s(e)}))};d.a.render(Object(a.jsx)(i.a.StrictMode,{children:Object(a.jsx)(L,{})}),document.getElementById("root")),R()}},[[321,1,2]]]);
//# sourceMappingURL=main.82e0ba7c.chunk.js.map